//
$(function() {
	$('.expander').not(":eq(0)").each(function(){
		$(this).find('.expander-trigger').addClass("expander-hidden");
	});

	$('.expander-trigger').click(function(){
		$(this).toggleClass("expander-hidden");
	});
	
	if ( $('p').length ) {
		$('p').each(function() {
			if ($(this).css('text-align') == 'center') {
				$(this).addClass('center');
				$(this).css({
					'margin-left': 'auto',
					'margin-right': 'auto'
				});
			}
		});
	}
});


$(function() {
	$('a.lightbox').swipebox();

	$('.thumb-link').on("click", function(e){
		e.preventDefault();
	});

    $('.image-slider').cycle({
        slides: "> li",
        paused: "true",
        pager: ".thumbnails",
        pagerTemplate: ""
    });

    $('.home-slideshow').cycle({
        slides: "> li",
        prev: ".slideshow-prev",
        next: ".slideshow-next"
    });

    $('.col-mh').matchHeight();
});

// jQuery document ready
$(function() {
    $('#pp-buy, #pp-gift').hide();

    $('#buynow').click(function() {
        $('#pp-buy, #pp-gift').slideDown();
    });

    $('.product').matchHeight();
});


$(document).ready(function(){

    $('#input_2_1').change(function(){
		$("#input_2_9").val('');
	});

	$('#input_2_9').attr("autocomplete", "off");
	$('#input_2_9').attr("readonly", "readonly");

	// MAPS
	function gdLoadmap()
	{
        var center = new google.maps.LatLng(51.532329,-0.059429); // centers the map at this location
        var marker; // sets up the marker variable so we don't get errors
        var map; // same as above
        //var markerimg = '/wp-content/themes/xtraflex/assets/img/map-marker.png'; // this sets the marker

        var mapOptions = {
        	zoom: 15, // zoom level of map
            mapTypeId: google.maps.MapTypeId.ROADMAP, // type of map
            center: center, // this centers the map using the center variable
            scrollwheel: false, // this stop the mouse scroll wheel from zooming in and out of the map
            scaleControl: false, // removes scale control
            panControl: false, // removes pan control
            streetViewControl: false, // removes streetview control
            zoomControlOptions: {
            	style: google.maps.ZoomControlStyle.SMALL, // makes zoom control small
                position: google.maps.ControlPosition.RIGHT_CENTER // positions the zoom control right center
            }
        };

	    var mapStyle = [
	          {
	            "stylers": [
	                { "hue": "#ff0000" },
	                { "saturation": -100 }
				]
	          }
	        ];

		var image = '/wp-content/themes/blankslate/images/marker.png';
	    map = new google.maps.Map(document.getElementById("map"), mapOptions);
	    map.setOptions({styles: mapStyle});
	    google.maps.event.addListenerOnce(map, 'idle', function(){
	    	marker = new google.maps.Marker({
		        map:map,
		        animation: google.maps.Animation.DROP,
				position: center,
				icon: image
			});
		});
    }
    gdLoadmap();
});
